/**
 * 小红书内容生成提示词
 * 这些提示词被内置到 MCP 工具中，用于规范 Claude 生成小红书图文内容
 */

export const XIAOHONGSHU_OUTLINE_PROMPT = `你是一个小红书内容创作专家。用户会给你一个要求以及说明，你需要生成一个适合小红书的图文内容大纲。

用户的要求以及说明：
{topic}

要求：
1. 第一页必须是吸引人的封面/标题页，包含标题和副标题
2. 内容控制在 6-12 页（包括封面）。如果用户明确指定了页数，则严格按照用户要求生成，不要超出或不足。
3. 每页内容简洁有力，适合配图展示
4. 使用小红书风格的语言（亲切、有趣、实用）
5. 可以适当使用 emoji 增加趣味性
6. 内容要有实用价值，能解决用户问题或提供有用信息
7. 最后一页可以是总结或行动呼吁
8. 如果用户在要求了某种特定语言风格的喜好，或者是否使用emoji等，则以客户的要求为准

【输出格式 - 严格遵守】

每一页必须按照以下格式输出，页与页之间用 <page> 标签分隔：

<page>
[封面]
标题：[主标题文字]
副标题：[副标题文字]
背景描述：[背景和视觉元素描述]
</page>

<page>
[内容]
[具体的页面内容]
</page>

<page>
[总结]
[总结性内容]
</page>

【重要规则】
1. 每一页都必须以 <page> 开始，以 </page> 结束（如果有的话）
2. 每页第一行必须是类型标记：[封面]、[内容] 或 [总结]
3. 不要在内容中使用 | 竖线符号
4. 不要添加任何额外的说明或对话
5. 直接从第一个 <page> 开始输出
6. 不要包含任何示例页面或演示内容，只输出实际生成的大纲

【页面类型详细说明】

[封面] 类型：
- 必须包含：标题、副标题、背景描述
- 标题占据主要位置，字号最大
- 副标题居中或在标题下方
- 整体设计要有吸引力和冲击力

[内容] 类型：
- 信息层次分明
- 列表项清晰展示
- 重点内容用颜色或粗体强调
- 可以有小图标辅助说明

[总结] 类型：
- 总结性文字突出
- 可以有勾选框或完成标志
- 给人完成感和满足感
- 鼓励性的视觉元素

现在请按照上述格式生成大纲，直接输出，不要有任何多余的说明或示例：`;

export const XIAOHONGSHU_IMAGE_PROMPT = `请生成一张小红书风格的图文内容图片。

【合规特别注意的】注意不要带有任何小红书的logo，不要有右下角的用户id以及logo
【合规特别注意的】用户给到的参考图片里如果有水印和logo（尤其是注意右下角，左上角），请一定要去掉

页面内容：
{page_content}

页面类型：{page_type}

如果当前页面类型不是封面页的话，你要参考最后一张图片作为封面的样式

后续生成风格要严格参考封面的风格，要保持风格统一。

设计要求：

1. 整体风格
- 小红书爆款图文风格
- 清新、精致、有设计感
- 适合年轻人审美
- 配色和谐，视觉吸引力强

2. 文字排版
- 文字清晰可读，字号适中
- 重要信息突出显示
- 排版美观，留白合理
- 支持 emoji 和符号
- 如果是封面，标题要大而醒目

3. 视觉元素
- 背景简洁但不单调
- 可以有装饰性元素（如图标、插画）
- 配色温暖或清新
- 保持专业感

4. 页面类型特殊要求

[封面] 类型：
- 标题占据主要位置，字号最大
- 副标题居中或在标题下方
- 整体设计要有吸引力和冲击力
- 背景可以更丰富，有视觉焦点

[内容] 类型：
- 信息层次分明
- 列表项清晰展示
- 重点内容用颜色或粗体强调
- 可以有小图标辅助说明

[总结] 类型：
- 总结性文字突出
- 可以有勾选框或完成标志
- 给人完成感和满足感
- 鼓励性的视觉元素

5. 技术规格
- 竖版 3:4 比例（小红书标准）
- 高清画质
- 适合手机屏幕查看
- 所有文字内容必须完整呈现
- 【特别注意】无论是给到的图片还是参考文字，请仔细思考，让其符合正确的竖屏观看的排版，不能左右旋转或者是倒置。

6. 整体风格一致性
为确保所有页面风格统一，请参考完整的内容大纲和用户原始需求来确定：
- 整体色调和配色方案
- 设计风格（清新/科技/温暖/专业等）
- 视觉元素的一致性
- 排版布局的统一风格

用户原始需求：
{user_topic}

完整内容大纲参考：
---
{full_outline}
---

请根据以上要求，生成一张精美的小红书风格图片。请直接给出图片，不要有任何手机边框，或者是白色留边。`;

/**
 * 获取大纲生成提示词
 * @param topic 用户的主题和要求
 * @returns 完整的提示词
 */
export function getOutlinePrompt(topic: string): string {
  return XIAOHONGSHU_OUTLINE_PROMPT.replace("{topic}", topic);
}

/**
 * 获取图片生成提示词
 * @param pageContent 页面内容
 * @param pageType 页面类型（封面/内容/总结）
 * @param userTopic 用户原始需求
 * @param fullOutline 完整的内容大纲
 * @returns 完整的提示词
 */
export function getImagePrompt(
  pageContent: string,
  pageType: string,
  userTopic: string,
  fullOutline: string
): string {
  return XIAOHONGSHU_IMAGE_PROMPT.replace("{page_content}", pageContent)
    .replace("{page_type}", pageType)
    .replace("{user_topic}", userTopic)
    .replace("{full_outline}", fullOutline);
}
